{"version":3,"sources":["webpack:///./js/index.js","webpack:///./js/fetchCountries.js","webpack:///./templates/listOfCountry.hbs","webpack:///./js/themeSwitcher.js","webpack:///./templates/country.hbs"],"names":["debounce","require","defaults","delay","styling","icons","notice","refs","input","document","querySelector","result","addEventListener","e","value","target","length","info","text","searchQuery","fetch","BASE_URL","then","r","json","processingRequest","data","close","status","error","title","success","innerHTML","renderResult","listOfCountry","map","el","name","Handlebars","module","exports","template","container","depth0","helpers","partials","escapeExpression","lambda","stack1","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","nullContext","program","noop","Theme","themeSwitchedRef","setTheme","bodyClassList","body","classList","checked","contains","remove","add","localStorage","setItem","getItem","alias1","alias2"],"mappings":"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","file":"main.38bb9687e6969e17ab6e.js","sourcesContent":["import '../styles.css';\r\nimport './themeSwitcher';\r\nimport fetchCountries from './fetchCountries';\r\nimport renderResult from '../templates/country.hbs';\r\nimport listOfCountry from '../templates/listOfCountry.hbs';\r\n\r\nconst debounce = require('lodash.debounce');\r\n\r\nimport { defaults, info, success, error } from '@pnotify/core';\r\nimport '@pnotify/core/dist/PNotify.css';\r\nimport '@pnotify/core/dist/Material.css';\r\ndefaults.delay = 2000;\r\ndefaults.styling = 'material';\r\ndefaults.icons = 'material';\r\nlet notice = null;\r\n\r\nconst refs = {\r\n  input: document.querySelector('#search-country'),\r\n  result: document.querySelector('.query-result'),\r\n};\r\n\r\nrefs.input.addEventListener('input', debounce(onSearch, 500));\r\n// refs.input.addEventListener('input', onSearch);\r\n\r\nconst processingRequest = data => {\r\n  notice.close();\r\n  if (data.status === 404) {\r\n    return error({\r\n      text: 'Нет ни одного результата по вашему запросу',\r\n    });\r\n  }\r\n  if (data.length > 9) {\r\n    return error({\r\n      title: 'Введите более специфический запрос',\r\n      text: 'Слишком много результатов',\r\n    });\r\n  }\r\n  success({\r\n    title: 'По вашему запросу найдено результатов: ' + data.length,\r\n  });\r\n  refs.result.innerHTML =\r\n    data.length === 1\r\n      ? renderResult(data[0])\r\n      : listOfCountry(data.map(el => el.name));\r\n};\r\n\r\nfunction onSearch(e) {\r\n  const value = e.target.value;\r\n  if (value.length < 1) {\r\n    return;\r\n  }\r\n  notice = info({\r\n    text: 'Выполняется поиск по вашему запросу',\r\n    delay: 5555,\r\n  });\r\n  fetchCountries(value).then(processingRequest);\r\n}\r\n","const BASE_URL = 'https://restcountries.eu/rest/v2';\r\nexport default function (searchQuery) {\r\n  return fetch(`${BASE_URL}/name/${searchQuery}`).then(r => r.json());\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"  <li>\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2>Результат поиска:</h2>\\r\\n<ul>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":2},\"end\":{\"line\":5,\"column\":11}}})) != null ? stack1 : \"\")\n    + \"</ul>\";\n},\"useData\":true});","const Theme = {\r\n  LIGHT: 'light-theme',\r\n  DARK: 'dark-theme',\r\n};\r\n\r\nconst themeSwitchedRef = document.querySelector('#theme-switch-toggle');\r\n\r\nconst setTheme = () => {\r\n  const bodyClassList = document.body.classList;\r\n\r\n  if (themeSwitchedRef.checked === false) {\r\n    if (bodyClassList.contains(Theme.DARK)) {\r\n      bodyClassList.remove(Theme.DARK);\r\n    }\r\n\r\n    bodyClassList.add(Theme.LIGHT);\r\n    localStorage.setItem('Theme', Theme.LIGHT);\r\n  } else if (themeSwitchedRef.checked === true) {\r\n    if (bodyClassList.contains(Theme.LIGHT)) {\r\n      bodyClassList.remove(Theme.LIGHT);\r\n    }\r\n\r\n    bodyClassList.add(Theme.DARK);\r\n    localStorage.setItem('Theme', Theme.DARK);\r\n  }\r\n};\r\n\r\nconst getThemeFromLocalStorage = () => {\r\n  const localStorageTheme = localStorage.getItem('Theme');\r\n\r\n  if (localStorageTheme === Theme.DARK) {\r\n    themeSwitchedRef.checked = true;\r\n    setTheme();\r\n  }\r\n};\r\ngetThemeFromLocalStorage();\r\n\r\nthemeSwitchedRef.addEventListener('change', setTheme);\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"      <li class=\\\"lang__item\\\">\"\n    + container.escapeExpression(container.lambda((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, alias1=container.lambda, alias2=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<h2 class=\\\"country__name bold\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"</h2>\\r\\n\\r\\n<div class=\\\"country\\\">\\r\\n  <img class=\\\"country__img\\\" width=\\\"200\\\" src=\\\"\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"flag\") : depth0), depth0))\n    + \"\\\" alt=\\\"flag \"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"name\") : depth0), depth0))\n    + \"\\\" />\\r\\n  <div class=\\\"country__content\\\">\\r\\n    <p class=\\\"country__capital bold\\\">\\r\\n      Capital:\\r\\n      <span class=\\\"country__capital--value default\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"capital\") : depth0), depth0))\n    + \"</span>\\r\\n    </p>\\r\\n    <p class=\\\"country__population bold\\\">\\r\\n      Population:\\r\\n      <span class=\\\"country__population--value default\\\">\"\n    + alias2(alias1((depth0 != null ? lookupProperty(depth0,\"population\") : depth0), depth0))\n    + \"</span>\\r\\n    </p>\\r\\n    <p class=\\\"country__lang--title bold\\\">Languages:</p>\\r\\n    <ul class=\\\"country__lang lang\\\">\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),(depth0 != null ? lookupProperty(depth0,\"languages\") : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":16,\"column\":6},\"end\":{\"line\":18,\"column\":15}}})) != null ? stack1 : \"\")\n    + \"    </ul>\\r\\n  </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}